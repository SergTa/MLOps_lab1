Цель задания
В практическом задании данного модуля вам необходимо продемонстрировать навыки практического использования утилиты dvc для работы с данными.


Содержание задания
В результате выполнения этих заданий вы выполните все основные операции с dvc и закрепите полученные теоретические знания практическими действиями.


Этапы
Создайте папку lab4 в корне проекта.
Установите git и dvc. Настройте папку проекта для работы с git и dvc.
Настройте удаленное хранилище файлов, например на Google Disk или S3.
Создайте датасет, например, о пассажирах «Титаника» catboost.titanic().
Модифицируйте датасет, в котором содержится информация о классе (“Pclass”), поле (“Sex”) и возрасте (“Age”) пассажира. Сделайте коммит в git и push в dvc.
Создайте новую версию датасета, в котором пропущенные (nan) значения в поле “Age” будут заполнены средним значением. Сделайте коммит в git и push в dvc.
Создайте новый признак с использованием one-hot-encoding для строкового признака «Пол» (“Sex”). Сделайте коммит в git и push в dvc.
Выполните переключение между всеми созданными версиями датасета.

При правильном выполнении задания появится git репозиторий с опубликованной метаинформацией и папка на Google Disk, в которой хранятся различные версии датасетов. Вам необходимо подготовить отчет в тех функциональностях, которые вы настроили. Дополнительно можно настроить DAG, запуск и версионирование экспериментов, например, с использованием Hydra.

В постановке задачи используется датасет из конкурса «Titanic Disaster», однако вы можете использовать свои наборы данных, в этом случае в пунктах 4-8 необходимо использовать информацию и признаки из вашего датасета.

Форма для сдачи:
Результаты работы поместите в подкаталог lab4 вашего корневого каталога репозитория.


Шаги выполнения:

1. установка dvc

pip install dvc

2. инициализация dvc (в корневой папке гит проекта)

dvc init

3. Добавить каталог для наблюдения

Так будет добалено вся внутренняя структура каталога dataset

dvc add lab4/datasets/**/*

А так просто одну папку

dvc add lab4/datasets/

4. В случае работы с Гугл диском необходимо также установить его поддержку

pip install dvc-gdrive

5. Добавить каталог с датасетами на google диске

dvc remote add <название проекта в dvc на ваш выбор> gdrive://<id_папки>

Для работы с облачным хранилищем  файлов на других проектах вам понадобится id вашей папки в google диске или другом облаке. Его можно найти так, открыть папку и в адресной строке взять id. именно его необходимо подставлять в команду из п.5. В данном случае id это все что после `folders/`

6. коммит в dvc

dvc commit

7. добавить информацию в гит

git add .

git commit -m "<Описание коммита>"

git push

8. Можно указать удаленный каталог по умолчанию

dvc remote default <название проекта в dvc на ваш выбор>

9. Запушить в репозиторий dvc

dvc push -r <название проекта в dvc на ваш выбор>

10. Загрузить из удаленного репозитория 

dvc pull -r <название проекта в dvc на ваш выбор>

Загрузка более ранней версии датасета
11. переключиться на более ранний версию датасета

git log --oneline

git checkout <commit_id>

dvc pull

12. Для возвращения к текущей актуальной версии

git checkout master

dvc pull
